<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="About PEG parsers" href="peg_parsers.html" />

    <meta name="generator" content="sphinx-4.0.1, furo 2021.04.11.beta34"/>
        <title>Home - pegen documentation</title>
      <link rel="stylesheet" href="_static/styles/furo.css?digest=59ab60ac09ea94ccfe6deddff6d715cce948a6fc">
    <link rel="stylesheet" href="_static/pygments.css">
    <link media="(prefers-color-scheme: dark)" rel="stylesheet" href="_static/pygments_dark.css">
    


<style>
  :root {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
  }

  /* For allowing end-user-specific overrides */
  .override-light {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  .override-dark {
    --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
  }
</style><link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css" />
    <link rel="stylesheet" href="_static/styles/furo-extensions.css?digest=d391b54134226e4196576da3bdb6dddb7e05ba2b"></head>
  <body dir="">
    
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z"/>
      <line x1="4" y1="6" x2="20" y2="6" />
      <line x1="10" y1="12" x2="20" y2="12" />
      <line x1="6" y1="18" x2="20" y2="18" />
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
      class="feather feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">pegen  documentation</div></a>
    </div>
    <div class="header-right">
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="_static/logo_simple.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="_static/logo_simple.png" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">pegen  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html">
  <input class="sidebar-search" placeholder=Search name="q">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="peg_parsers.html">About PEG parsers</a></li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">Syntax</a></li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <main class="main">
    <div class="content">
      <article role="main">
        <label class="toc-overlay-icon toc-content-icon" for="__toc">
          <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
        </label>
        <a class="reference internal image-reference" href="_images/logo.svg"><img alt="_images/logo.svg" class="align-center" src="_images/logo.svg" width="600"/></a>
<section id="what-is-this">
<h1>What is this?<a class="headerlink" href="#what-is-this" title="Permalink to this headline">¶</a></h1>
<p>Pegen is the parser generator used in CPython to produce the parser used
by the interpreter. It allows to produce PEG parsers from a description
of a formal Grammar.</p>
</section>
<section id="installing">
<h1>Installing<a class="headerlink" href="#installing" title="Permalink to this headline">¶</a></h1>
<p>Install with <code class="docutils literal notranslate"><span class="pre">pip</span></code> or your favorite PyPi package manager.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pegen</span>
</pre></div>
</div>
</section>
<section id="how-to-generate-a-parser">
<h1>How to generate a parser<a class="headerlink" href="#how-to-generate-a-parser" title="Permalink to this headline">¶</a></h1>
<p>Given a grammar file compatible with <code class="docutils literal notranslate"><span class="pre">pegen</span></code> (you can write your own
or start with one in the <a class="reference external" href="https://github.com/we-like-parsers/pegen/tree/main/data">data</a> directory), you can easily
generate a parser by running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pegen</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">grammar</span><span class="o">-</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">o</span> <span class="n">parser</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This will generate a file called <code class="docutils literal notranslate"><span class="pre">parser.py</span></code> in the current directory.
This can be used to parse code using the grammar that we just used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">parser</span><span class="o">.</span><span class="n">py</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">-</span><span class="k">with</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">parse</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="differences-with-cpythons-pegen">
<h1>Differences with CPython’s Pegen<a class="headerlink" href="#differences-with-cpythons-pegen" title="Permalink to this headline">¶</a></h1>
<p>This repository exists to distribute a version of the Python PEG parser
generator used by CPython that can be installed via PyPI, with some
improvements. Although the official PEG generator included in CPython
can generate both Python and C code, this distribution of the generator
only allows to generate Python code. This is due to the fact that the C
code generated by the generator included in CPython includes a lot of
implementation details and private headers that are not available for
general usage.</p>
<p>The official PEG generator for Python 3.9 and later is now included in
the CPython repo under
<a class="reference external" href="https://github.com/python/cpython/tree/master/Tools/peg_generator">Tools/peg_generator/</a>.</p>
<p>See also <a class="reference external" href="https://www.python.org/dev/peps/pep-0617/">PEP 617</a>.</p>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="peg_parsers.html">About PEG parsers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="peg_parsers.html#how-peg-parsers-work">How PEG Parsers Work</a><ul>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#key-ideas">Key ideas</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#consequences-or-the-ordered-choice-operator">Consequences or the ordered choice operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#grammatical-elements-and-rules">Grammatical elements and rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#tokenization">Tokenization</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#memoization">Memoization</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#hard-and-soft-keywords">Hard and Soft keywords</a></li>
<li class="toctree-l3"><a class="reference internal" href="peg_parsers.html#error-handling">Error handling</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="peg_parsers.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="grammar.html">Syntax</a><ul>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#grammar-expressions">Grammar Expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#comment"><code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">comment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e1-e2"><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">e2</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e1-e2-1"><code class="docutils literal notranslate"><span class="pre">e1</span> <span class="pre">|</span> <span class="pre">e2</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e"><code class="docutils literal notranslate"><span class="pre">(</span> <span class="pre">e</span> <span class="pre">)</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-or-e"><code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">e</span> <span class="pre">]</span> <span class="pre">or</span> <span class="pre">e?</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-1"><code class="docutils literal notranslate"><span class="pre">e*</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-2"><code class="docutils literal notranslate"><span class="pre">e+</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#s-e"><code class="docutils literal notranslate"><span class="pre">s.e+</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-3"><code class="docutils literal notranslate"><span class="pre">&amp;e</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-4"><code class="docutils literal notranslate"><span class="pre">!e</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-5"><code class="docutils literal notranslate"><span class="pre">~e</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#e-6"><code class="docutils literal notranslate"><span class="pre">&amp;&amp;e</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#keywords">Keywords</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#return-value">Return Value</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#variables-in-the-grammar">Variables in the Grammar</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#grammar-actions">Grammar actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#left-recursion">Left recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#syntax-error-related-rules">Syntax error related rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#customizing-the-generated-parser">Customizing the generated parser</a><ul>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#class-name">@class NAME</a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#header">@header</a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#subheader">@subheader</a></li>
<li class="toctree-l3"><a class="reference internal" href="grammar.html#trailer">@trailer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="grammar.html#style">Style</a></li>
</ul>
</li>
</ul>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<section id="developing">
<h2>Developing<a class="headerlink" href="#developing" title="Permalink to this headline">¶</a></h2>
<p>We welcome contributions to <code class="docutils literal notranslate"><span class="pre">pegen</span></code>. Check
<a class="reference external" href="https://github.com/we-like-parsers/pegen/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a>
to get an idea of how to contribute to the project.</p>
</section>
</section>

      </article>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="peg_parsers.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">About PEG parsers</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          
        </div>

        <div class="related-information">
              Copyright &#169; 2021, Pablo Galindo Salgado, Guido van Rossum, Lysandros Nikolaou
            |
            Built with <a href="https://www.sphinx-doc.org/">Sphinx</a>
              and
              <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
              <a href="https://github.com/pradyunsg/furo">Furo theme</a>.
            |
            <a class="muted-link" href="_sources/index.rst.txt"
               rel="nofollow">
              Show Source
            </a>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">What is this?</a></li>
<li><a class="reference internal" href="#installing">Installing</a></li>
<li><a class="reference internal" href="#how-to-generate-a-parser">How to generate a parser</a></li>
<li><a class="reference internal" href="#differences-with-cpythons-pegen">Differences with CPython’s Pegen</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a><ul>
<li><a class="reference internal" href="#developing">Developing</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </main>
</div>
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/main.js?digest=e931d09b2a40c1bb82b542effe772014573baf67"></script></body>
</html>